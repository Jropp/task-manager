<!--
Main app page for the task manager. It's all downhill from here
-->

<!-- <link rel="import" href="../bower_components/polymer/polymer-element.html"> -->
<link rel="import" href="https://polygit.org/components/polymer/polymer-element.html">
<!-- <link rel="import" href="shared-styles.html"> -->
<link rel="import" href="./js/task-list/task-list.html">
<link rel="import" href="./js/create-task/create-task.html">

<dom-module id="task-manager">
	<template>
		<style include="shared-styles">
			:host {
				display: block;
				padding: 10px;
			}
		</style>

		<task-list></task-list>
		<create-task></create-task>

	</template>

	<script>
		class TaskManager extends Polymer.Element {
			static get is() { return 'task-manager'; }
			static get properties() {
				return {
					tasks: {
						type: Array,
						value: []
					}

				}
			}
			connectedCallback(){
				let self = this;
				super.connectedCallback();

				document.addEventListener('newTask', function(e){
					self.saveTask(e.detail);
				});
			}
			saveTask(task){
				const x = task;
				this.tasks.push(x);
				console.log(this.tasks);

			}
			saveToLocalStorage(){

			}
		}

		window.customElements.define(TaskManager.is, TaskManager);
	</script>
</dom-module>
